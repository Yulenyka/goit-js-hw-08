{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAOC,SAASC,cAAc,kBAGpCF,EAAKG,iBACH,SACA,EAAAL,EAAAM,WAASC,IACP,MAAMC,EAAeC,KAAKC,MAAMC,aAAaC,QAL7B,yBAKsD,GACtEJ,EAAaD,EAAMM,OAAOC,MAAQP,EAAMM,OAAOE,MAC/CJ,aAAaK,QAPG,sBAOkBP,KAAKQ,UAAUT,GAAc,GAC9D,MAGLN,EAAKG,iBAAiB,UAAUE,IAC9BA,EAAMW,iBACN,MAAMC,EAAQZ,EAAMa,cAAcD,MAAMJ,MAClCM,EAAUd,EAAMa,cAAcC,QAAQN,MAC5CO,QAAQC,IAAI,C,MAAEJ,E,QAAOE,IAErBnB,EAAKsB,QACLb,aAAac,WAlBK,sBAkBkB,IAGrC,WACC,MAAMjB,EAAeC,KAAKC,MAAMC,aAAaC,QAtB3B,wBAuBlB,GAAID,aAAaC,QAvBC,uBAwBhB,IAAK,IAAIc,KAAOlB,EACdN,EAAKyB,SAASD,GAAKX,MAAQP,EAAakB,EAG7C,CAPA","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst form = document.querySelector('.feedback-form');\nconst STORAGE_KEY = 'feedback-form-state';\n\nform.addEventListener(\n  'input',\n  throttle(event => {\n    const objectToSave = JSON.parse(localStorage.getItem(STORAGE_KEY)) || {};\n    objectToSave[event.target.name] = event.target.value;\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(objectToSave));\n  }, 500)\n);\n\nform.addEventListener('submit', event => {\n  event.preventDefault();\n  const email = event.currentTarget.email.value;\n  const message = event.currentTarget.message.value;\n  console.log({ email, message });\n  // console.log(JSON.parse(localStorage.getItem(STORAGE_KEY)));\n  form.reset();\n  localStorage.removeItem(STORAGE_KEY);\n});\n\n(function dataFromLocalStorage() {\n  const objectToSave = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  if (localStorage.getItem(STORAGE_KEY)) {\n    for (let key in objectToSave) {\n      form.elements[key].value = objectToSave[key];\n    }\n  }\n})();\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$form","document","querySelector","addEventListener","throttle","event","objectToSave","JSON","parse","localStorage","getItem","target","name","value","setItem","stringify","preventDefault","email","currentTarget","message","console","log","reset","removeItem","key","elements"],"version":3,"file":"03-feedback.4aaa430b.js.map"}